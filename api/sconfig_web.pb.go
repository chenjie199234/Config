// Code generated by protoc-gen-go-web. DO NOT EDIT.
// version:
// 	protoc-gen-web v0.0.1
// 	protoc         v3.17.3
// source: api/sconfig.proto

package api

import (
	context "context"
	json "encoding/json"
	bufpool "github.com/chenjie199234/Corelib/bufpool"
	log "github.com/chenjie199234/Corelib/log"
	common "github.com/chenjie199234/Corelib/util/common"
	error1 "github.com/chenjie199234/Corelib/util/error"
	metadata "github.com/chenjie199234/Corelib/util/metadata"
	web "github.com/chenjie199234/Corelib/web"
	protojson "google.golang.org/protobuf/encoding/protojson"
	proto "google.golang.org/protobuf/proto"
	io "io"
	http "net/http"
	strings "strings"
)

var _SconfigWebCheckers map[string]func(req interface{}) string

func init() {
	_SconfigWebCheckers = make(map[string]func(req interface{}) string, 5)
	_SconfigWebCheckers["\"\\\"Config/api\\\"\".SsetReq"] = func(r interface{}) string {
		req := r.(*SsetReq)
		if len(req.Groupname) <= 0 {
			return "field: groupname in object: sset_req check value str len gt failed"
		}
		if len(req.Appname) <= 0 {
			return "field: appname in object: sset_req check value str len gt failed"
		}
		return ""
	}
	_SconfigWebCheckers["\"\\\"Config/api\\\"\".SgetReq"] = func(r interface{}) string {
		req := r.(*SgetReq)
		if len(req.Groupname) <= 0 {
			return "field: groupname in object: sget_req check value str len gt failed"
		}
		if len(req.Appname) <= 0 {
			return "field: appname in object: sget_req check value str len gt failed"
		}
		if req.Index <= 0 {
			return "field: index in object: sget_req check value uint gt failed"
		}
		return ""
	}
	_SconfigWebCheckers["\"\\\"Config/api\\\"\".SinfoReq"] = func(r interface{}) string {
		req := r.(*SinfoReq)
		if len(req.Groupname) <= 0 {
			return "field: groupname in object: sinfo_req check value str len gt failed"
		}
		if len(req.Appname) <= 0 {
			return "field: appname in object: sinfo_req check value str len gt failed"
		}
		return ""
	}
	_SconfigWebCheckers["\"\\\"Config/api\\\"\".SrollbackReq"] = func(r interface{}) string {
		req := r.(*SrollbackReq)
		if len(req.Groupname) <= 0 {
			return "field: groupname in object: srollback_req check value str len gt failed"
		}
		if len(req.Appname) <= 0 {
			return "field: appname in object: srollback_req check value str len gt failed"
		}
		if req.Index <= 0 {
			return "field: index in object: srollback_req check value uint gt failed"
		}
		return ""
	}
	_SconfigWebCheckers["\"\\\"Config/api\\\"\".SappsReq"] = func(r interface{}) string {
		req := r.(*SappsReq)
		if len(req.Groupname) <= 0 {
			return "field: groupname in object: sapps_req check value str len gt failed"
		}
		return ""
	}
}

var _WebPathSconfigSinfo = "/config.sconfig/sinfo"
var _WebPathSconfigSset = "/config.sconfig/sset"
var _WebPathSconfigSrollback = "/config.sconfig/srollback"
var _WebPathSconfigSget = "/config.sconfig/sget"
var _WebPathSconfigSgroups = "/config.sconfig/sgroups"
var _WebPathSconfigSapps = "/config.sconfig/sapps"
var _WebPathSconfigSwatchaddr = "/config.sconfig/swatchaddr"

type SconfigWebClient interface {
	//one specific app's current info
	Sinfo(context.Context, *SinfoReq, http.Header) (*SinfoResp, error)
	//set one specific app's config
	Sset(context.Context, *SsetReq, http.Header) (*SsetResp, error)
	//rollback one specific app's config
	Srollback(context.Context, *SrollbackReq, http.Header) (*SrollbackResp, error)
	//get one specific app's config
	Sget(context.Context, *SgetReq, http.Header) (*SgetResp, error)
	//get all groups
	Sgroups(context.Context, *SgroupsReq, http.Header) (*SgroupsResp, error)
	//get all apps
	Sapps(context.Context, *SappsReq, http.Header) (*SappsResp, error)
	//get watch addr
	Swatchaddr(context.Context, *SwatchaddrReq, http.Header) (*SwatchaddrResp, error)
}

type sconfigWebClient struct {
	cc *web.WebClient
}

func NewSconfigWebClient(c *web.ClientConfig, selfgroup, selfname, peergroup, peername string) (SconfigWebClient, error) {
	cc, e := web.NewWebClient(c, selfgroup, selfname, peergroup, peername)
	if e != nil {
		return nil, e
	}
	return &sconfigWebClient{cc: cc}, nil
}

func (c *sconfigWebClient) Sinfo(ctx context.Context, req *SinfoReq, header http.Header) (*SinfoResp, error) {
	if req == nil {
		return nil, error1.ErrReq
	}
	if s := _SconfigWebCheckers["\"\\\"Config/api\\\"\".SinfoReq"](req); s != "" {
		log.Error("[/config.sconfig/sinfo]", s)
		return nil, error1.ErrReq
	}
	if header == nil {
		header = make(http.Header)
	}
	header.Set("Content-Type", "application/x-www-form-urlencoded")
	header.Set("Accept", "application/x-protobuf")
	query := bufpool.GetBuffer()
	defer bufpool.PutBuffer(query)
	query.Append("?")
	if len(req.Groupname) != 0 {
		query.Append("groupname=")
		temp, _ := json.Marshal(req.Groupname)
		query.Append(common.Byte2str(temp))
		query.Append("&")
	}
	if len(req.Appname) != 0 {
		query.Append("appname=")
		temp, _ := json.Marshal(req.Appname)
		query.Append(common.Byte2str(temp))
		query.Append("&")
	}
	r, e := c.cc.Get(ctx, 250000000, _WebPathSconfigSinfo+query.String(), header, metadata.GetAllMetadata(ctx))
	if e != nil {
		return nil, error1.StdErrorToError(e)
	}
	defer r.Body.Close()
	data, e := io.ReadAll(r.Body)
	if e != nil {
		return nil, error1.StdErrorToError(e)
	}
	if r.StatusCode/100 == 4 || r.StatusCode/100 == 5 {
		return nil, error1.ErrorstrToError(common.Byte2str(data))
	}
	resp := new(SinfoResp)
	if len(data) == 0 {
		return resp, nil
	}
	if e := proto.Unmarshal(data, resp); e != nil {
		return nil, error1.ErrResp
	}
	return resp, nil
}
func (c *sconfigWebClient) Sset(ctx context.Context, req *SsetReq, header http.Header) (*SsetResp, error) {
	if req == nil {
		return nil, error1.ErrReq
	}
	if s := _SconfigWebCheckers["\"\\\"Config/api\\\"\".SsetReq"](req); s != "" {
		log.Error("[/config.sconfig/sset]", s)
		return nil, error1.ErrReq
	}
	if header == nil {
		header = make(http.Header)
	}
	header.Set("Content-Type", "application/x-protobuf")
	header.Set("Accept", "application/x-protobuf")
	reqd, _ := proto.Marshal(req)
	r, e := c.cc.Post(ctx, 250000000, _WebPathSconfigSset, header, metadata.GetAllMetadata(ctx), reqd)
	if e != nil {
		return nil, error1.StdErrorToError(e)
	}
	defer r.Body.Close()
	data, e := io.ReadAll(r.Body)
	if e != nil {
		return nil, error1.StdErrorToError(e)
	}
	if r.StatusCode/100 == 4 || r.StatusCode/100 == 5 {
		return nil, error1.ErrorstrToError(common.Byte2str(data))
	}
	resp := new(SsetResp)
	if len(data) == 0 {
		return resp, nil
	}
	if e := proto.Unmarshal(data, resp); e != nil {
		return nil, error1.ErrResp
	}
	return resp, nil
}
func (c *sconfigWebClient) Srollback(ctx context.Context, req *SrollbackReq, header http.Header) (*SrollbackResp, error) {
	if req == nil {
		return nil, error1.ErrReq
	}
	if s := _SconfigWebCheckers["\"\\\"Config/api\\\"\".SrollbackReq"](req); s != "" {
		log.Error("[/config.sconfig/srollback]", s)
		return nil, error1.ErrReq
	}
	if header == nil {
		header = make(http.Header)
	}
	header.Set("Content-Type", "application/x-protobuf")
	header.Set("Accept", "application/x-protobuf")
	reqd, _ := proto.Marshal(req)
	r, e := c.cc.Post(ctx, 250000000, _WebPathSconfigSrollback, header, metadata.GetAllMetadata(ctx), reqd)
	if e != nil {
		return nil, error1.StdErrorToError(e)
	}
	defer r.Body.Close()
	data, e := io.ReadAll(r.Body)
	if e != nil {
		return nil, error1.StdErrorToError(e)
	}
	if r.StatusCode/100 == 4 || r.StatusCode/100 == 5 {
		return nil, error1.ErrorstrToError(common.Byte2str(data))
	}
	resp := new(SrollbackResp)
	if len(data) == 0 {
		return resp, nil
	}
	if e := proto.Unmarshal(data, resp); e != nil {
		return nil, error1.ErrResp
	}
	return resp, nil
}
func (c *sconfigWebClient) Sget(ctx context.Context, req *SgetReq, header http.Header) (*SgetResp, error) {
	if req == nil {
		return nil, error1.ErrReq
	}
	if s := _SconfigWebCheckers["\"\\\"Config/api\\\"\".SgetReq"](req); s != "" {
		log.Error("[/config.sconfig/sget]", s)
		return nil, error1.ErrReq
	}
	if header == nil {
		header = make(http.Header)
	}
	header.Set("Content-Type", "application/x-www-form-urlencoded")
	header.Set("Accept", "application/x-protobuf")
	query := bufpool.GetBuffer()
	defer bufpool.PutBuffer(query)
	query.Append("?")
	if len(req.Groupname) != 0 {
		query.Append("groupname=")
		temp, _ := json.Marshal(req.Groupname)
		query.Append(common.Byte2str(temp))
		query.Append("&")
	}
	if len(req.Appname) != 0 {
		query.Append("appname=")
		temp, _ := json.Marshal(req.Appname)
		query.Append(common.Byte2str(temp))
		query.Append("&")
	}
	if req.Index != 0 {
		query.Append("index=")
		query.Append(req.Index)
		query.Append("&")
	}
	r, e := c.cc.Get(ctx, 250000000, _WebPathSconfigSget+query.String(), header, metadata.GetAllMetadata(ctx))
	if e != nil {
		return nil, error1.StdErrorToError(e)
	}
	defer r.Body.Close()
	data, e := io.ReadAll(r.Body)
	if e != nil {
		return nil, error1.StdErrorToError(e)
	}
	if r.StatusCode/100 == 4 || r.StatusCode/100 == 5 {
		return nil, error1.ErrorstrToError(common.Byte2str(data))
	}
	resp := new(SgetResp)
	if len(data) == 0 {
		return resp, nil
	}
	if e := proto.Unmarshal(data, resp); e != nil {
		return nil, error1.ErrResp
	}
	return resp, nil
}
func (c *sconfigWebClient) Sgroups(ctx context.Context, req *SgroupsReq, header http.Header) (*SgroupsResp, error) {
	if req == nil {
		return nil, error1.ErrReq
	}
	if header == nil {
		header = make(http.Header)
	}
	header.Set("Content-Type", "application/x-www-form-urlencoded")
	header.Set("Accept", "application/x-protobuf")
	query := bufpool.GetBuffer()
	defer bufpool.PutBuffer(query)
	r, e := c.cc.Get(ctx, 250000000, _WebPathSconfigSgroups+query.String(), header, metadata.GetAllMetadata(ctx))
	if e != nil {
		return nil, error1.StdErrorToError(e)
	}
	defer r.Body.Close()
	data, e := io.ReadAll(r.Body)
	if e != nil {
		return nil, error1.StdErrorToError(e)
	}
	if r.StatusCode/100 == 4 || r.StatusCode/100 == 5 {
		return nil, error1.ErrorstrToError(common.Byte2str(data))
	}
	resp := new(SgroupsResp)
	if len(data) == 0 {
		return resp, nil
	}
	if e := proto.Unmarshal(data, resp); e != nil {
		return nil, error1.ErrResp
	}
	return resp, nil
}
func (c *sconfigWebClient) Sapps(ctx context.Context, req *SappsReq, header http.Header) (*SappsResp, error) {
	if req == nil {
		return nil, error1.ErrReq
	}
	if s := _SconfigWebCheckers["\"\\\"Config/api\\\"\".SappsReq"](req); s != "" {
		log.Error("[/config.sconfig/sapps]", s)
		return nil, error1.ErrReq
	}
	if header == nil {
		header = make(http.Header)
	}
	header.Set("Content-Type", "application/x-www-form-urlencoded")
	header.Set("Accept", "application/x-protobuf")
	query := bufpool.GetBuffer()
	defer bufpool.PutBuffer(query)
	query.Append("?")
	if len(req.Groupname) != 0 {
		query.Append("groupname=")
		temp, _ := json.Marshal(req.Groupname)
		query.Append(common.Byte2str(temp))
		query.Append("&")
	}
	r, e := c.cc.Get(ctx, 250000000, _WebPathSconfigSapps+query.String(), header, metadata.GetAllMetadata(ctx))
	if e != nil {
		return nil, error1.StdErrorToError(e)
	}
	defer r.Body.Close()
	data, e := io.ReadAll(r.Body)
	if e != nil {
		return nil, error1.StdErrorToError(e)
	}
	if r.StatusCode/100 == 4 || r.StatusCode/100 == 5 {
		return nil, error1.ErrorstrToError(common.Byte2str(data))
	}
	resp := new(SappsResp)
	if len(data) == 0 {
		return resp, nil
	}
	if e := proto.Unmarshal(data, resp); e != nil {
		return nil, error1.ErrResp
	}
	return resp, nil
}
func (c *sconfigWebClient) Swatchaddr(ctx context.Context, req *SwatchaddrReq, header http.Header) (*SwatchaddrResp, error) {
	if req == nil {
		return nil, error1.ErrReq
	}
	if header == nil {
		header = make(http.Header)
	}
	header.Set("Content-Type", "application/x-www-form-urlencoded")
	header.Set("Accept", "application/x-protobuf")
	query := bufpool.GetBuffer()
	defer bufpool.PutBuffer(query)
	r, e := c.cc.Get(ctx, 250000000, _WebPathSconfigSwatchaddr+query.String(), header, metadata.GetAllMetadata(ctx))
	if e != nil {
		return nil, error1.StdErrorToError(e)
	}
	defer r.Body.Close()
	data, e := io.ReadAll(r.Body)
	if e != nil {
		return nil, error1.StdErrorToError(e)
	}
	if r.StatusCode/100 == 4 || r.StatusCode/100 == 5 {
		return nil, error1.ErrorstrToError(common.Byte2str(data))
	}
	resp := new(SwatchaddrResp)
	if len(data) == 0 {
		return resp, nil
	}
	if e := proto.Unmarshal(data, resp); e != nil {
		return nil, error1.ErrResp
	}
	return resp, nil
}

type SconfigWebServer interface {
	//one specific app's current info
	Sinfo(context.Context, *SinfoReq) (*SinfoResp, error)
	//set one specific app's config
	Sset(context.Context, *SsetReq) (*SsetResp, error)
	//rollback one specific app's config
	Srollback(context.Context, *SrollbackReq) (*SrollbackResp, error)
	//get one specific app's config
	Sget(context.Context, *SgetReq) (*SgetResp, error)
	//get all groups
	Sgroups(context.Context, *SgroupsReq) (*SgroupsResp, error)
	//get all apps
	Sapps(context.Context, *SappsReq) (*SappsResp, error)
	//get watch addr
	Swatchaddr(context.Context, *SwatchaddrReq) (*SwatchaddrResp, error)
}

func _Sconfig_Sinfo_WebHandler(handler func(context.Context, *SinfoReq) (*SinfoResp, error)) web.OutsideHandler {
	return func(ctx *web.Context) {
		req := new(SinfoReq)
		if strings.HasPrefix(ctx.GetContentType(), "application/json") {
			data, e := ctx.GetBody()
			if e != nil {
				ctx.AbortString(http.StatusBadRequest, e.Error())
				return
			}
			if len(data) > 0 {
				e := protojson.UnmarshalOptions{DiscardUnknown: true}.Unmarshal(data, req)
				if e != nil {
					ctx.AbortString(http.StatusBadRequest, error1.ErrReq.String())
					return
				}
			}
		} else if strings.HasPrefix(ctx.GetContentType(), "application/x-protobuf") {
			data, e := ctx.GetBody()
			if e != nil {
				ctx.AbortString(http.StatusBadRequest, e.Error())
				return
			}
			if len(data) > 0 {
				if e := proto.Unmarshal(data, req); e != nil {
					ctx.AbortString(http.StatusBadRequest, error1.ErrReq.String())
					return
				}
			}
		} else {
			if e := ctx.ParseForm(); e != nil {
				ctx.AbortString(http.StatusBadRequest, error1.ErrReq.String())
				return
			}
			data := bufpool.GetBuffer()
			defer bufpool.PutBuffer(data)
			data.Append("{")
			data.Append("\"groupname\":")
			if form := ctx.GetForm("groupname"); len(form) == 0 {
				data.Append("\"\"")
			} else if len(form) < 2 || form[0] != '"' || form[len(form)-1] != '"' {
				data.Append("\"")
				data.Append(form)
				data.Append("\"")
			} else {
				data.Append(form)
			}
			data.Append(",")
			data.Append("\"appname\":")
			if form := ctx.GetForm("appname"); len(form) == 0 {
				data.Append("\"\"")
			} else if len(form) < 2 || form[0] != '"' || form[len(form)-1] != '"' {
				data.Append("\"")
				data.Append(form)
				data.Append("\"")
			} else {
				data.Append(form)
			}
			data.Append("}")
			if data.Len() > 2 {
				e := protojson.UnmarshalOptions{DiscardUnknown: true}.Unmarshal(data.Bytes(), req)
				if e != nil {
					ctx.AbortString(http.StatusBadRequest, error1.ErrReq.String())
					return
				}
			}
		}
		if s := _SconfigWebCheckers["\"\\\"Config/api\\\"\".SinfoReq"](req); s != "" {
			log.Error("[/config.sconfig/sinfo]", s)
			ctx.AbortString(http.StatusBadRequest, error1.ErrReq.String())
			return
		}
		resp, e := handler(ctx, req)
		if e != nil {
			if error1.Equal(e, error1.ErrReq) {
				ctx.AbortString(http.StatusBadRequest, e.Error())
			} else {
				ctx.AbortString(http.StatusInternalServerError, e.Error())
			}
			return
		}
		if resp == nil {
			resp = new(SinfoResp)
		}
		if strings.HasPrefix(ctx.GetAcceptType(), "application/x-protobuf") {
			respd, _ := proto.Marshal(resp)
			ctx.SetHeader("Content-Type", "application/x-protobuf")
			ctx.Write(http.StatusOK, respd)
		} else {
			respd, _ := protojson.MarshalOptions{UseProtoNames: true, UseEnumNumbers: true, EmitUnpopulated: true}.Marshal(resp)
			ctx.SetHeader("Content-Type", "application/json")
			ctx.Write(http.StatusOK, respd)
		}
	}
}
func _Sconfig_Sset_WebHandler(handler func(context.Context, *SsetReq) (*SsetResp, error)) web.OutsideHandler {
	return func(ctx *web.Context) {
		req := new(SsetReq)
		if strings.HasPrefix(ctx.GetContentType(), "application/json") {
			data, e := ctx.GetBody()
			if e != nil {
				ctx.AbortString(http.StatusBadRequest, e.Error())
				return
			}
			if len(data) > 0 {
				e := protojson.UnmarshalOptions{DiscardUnknown: true}.Unmarshal(data, req)
				if e != nil {
					ctx.AbortString(http.StatusBadRequest, error1.ErrReq.String())
					return
				}
			}
		} else if strings.HasPrefix(ctx.GetContentType(), "application/x-protobuf") {
			data, e := ctx.GetBody()
			if e != nil {
				ctx.AbortString(http.StatusBadRequest, e.Error())
				return
			}
			if len(data) > 0 {
				if e := proto.Unmarshal(data, req); e != nil {
					ctx.AbortString(http.StatusBadRequest, error1.ErrReq.String())
					return
				}
			}
		} else {
			if e := ctx.ParseForm(); e != nil {
				ctx.AbortString(http.StatusBadRequest, error1.ErrReq.String())
				return
			}
			data := bufpool.GetBuffer()
			defer bufpool.PutBuffer(data)
			data.Append("{")
			data.Append("\"groupname\":")
			if form := ctx.GetForm("groupname"); len(form) == 0 {
				data.Append("\"\"")
			} else if len(form) < 2 || form[0] != '"' || form[len(form)-1] != '"' {
				data.Append("\"")
				data.Append(form)
				data.Append("\"")
			} else {
				data.Append(form)
			}
			data.Append(",")
			data.Append("\"appname\":")
			if form := ctx.GetForm("appname"); len(form) == 0 {
				data.Append("\"\"")
			} else if len(form) < 2 || form[0] != '"' || form[len(form)-1] != '"' {
				data.Append("\"")
				data.Append(form)
				data.Append("\"")
			} else {
				data.Append(form)
			}
			data.Append(",")
			data.Append("\"app_config\":")
			if form := ctx.GetForm("app_config"); len(form) == 0 {
				data.Append("\"\"")
			} else if len(form) < 2 || form[0] != '"' || form[len(form)-1] != '"' {
				data.Append("\"")
				data.Append(form)
				data.Append("\"")
			} else {
				data.Append(form)
			}
			data.Append(",")
			data.Append("\"source_config\":")
			if form := ctx.GetForm("source_config"); len(form) == 0 {
				data.Append("\"\"")
			} else if len(form) < 2 || form[0] != '"' || form[len(form)-1] != '"' {
				data.Append("\"")
				data.Append(form)
				data.Append("\"")
			} else {
				data.Append(form)
			}
			data.Append("}")
			if data.Len() > 2 {
				e := protojson.UnmarshalOptions{DiscardUnknown: true}.Unmarshal(data.Bytes(), req)
				if e != nil {
					ctx.AbortString(http.StatusBadRequest, error1.ErrReq.String())
					return
				}
			}
		}
		if s := _SconfigWebCheckers["\"\\\"Config/api\\\"\".SsetReq"](req); s != "" {
			log.Error("[/config.sconfig/sset]", s)
			ctx.AbortString(http.StatusBadRequest, error1.ErrReq.String())
			return
		}
		resp, e := handler(ctx, req)
		if e != nil {
			if error1.Equal(e, error1.ErrReq) {
				ctx.AbortString(http.StatusBadRequest, e.Error())
			} else {
				ctx.AbortString(http.StatusInternalServerError, e.Error())
			}
			return
		}
		if resp == nil {
			resp = new(SsetResp)
		}
		if strings.HasPrefix(ctx.GetAcceptType(), "application/x-protobuf") {
			respd, _ := proto.Marshal(resp)
			ctx.SetHeader("Content-Type", "application/x-protobuf")
			ctx.Write(http.StatusOK, respd)
		} else {
			respd, _ := protojson.MarshalOptions{UseProtoNames: true, UseEnumNumbers: true, EmitUnpopulated: true}.Marshal(resp)
			ctx.SetHeader("Content-Type", "application/json")
			ctx.Write(http.StatusOK, respd)
		}
	}
}
func _Sconfig_Srollback_WebHandler(handler func(context.Context, *SrollbackReq) (*SrollbackResp, error)) web.OutsideHandler {
	return func(ctx *web.Context) {
		req := new(SrollbackReq)
		if strings.HasPrefix(ctx.GetContentType(), "application/json") {
			data, e := ctx.GetBody()
			if e != nil {
				ctx.AbortString(http.StatusBadRequest, e.Error())
				return
			}
			if len(data) > 0 {
				e := protojson.UnmarshalOptions{DiscardUnknown: true}.Unmarshal(data, req)
				if e != nil {
					ctx.AbortString(http.StatusBadRequest, error1.ErrReq.String())
					return
				}
			}
		} else if strings.HasPrefix(ctx.GetContentType(), "application/x-protobuf") {
			data, e := ctx.GetBody()
			if e != nil {
				ctx.AbortString(http.StatusBadRequest, e.Error())
				return
			}
			if len(data) > 0 {
				if e := proto.Unmarshal(data, req); e != nil {
					ctx.AbortString(http.StatusBadRequest, error1.ErrReq.String())
					return
				}
			}
		} else {
			if e := ctx.ParseForm(); e != nil {
				ctx.AbortString(http.StatusBadRequest, error1.ErrReq.String())
				return
			}
			data := bufpool.GetBuffer()
			defer bufpool.PutBuffer(data)
			data.Append("{")
			data.Append("\"groupname\":")
			if form := ctx.GetForm("groupname"); len(form) == 0 {
				data.Append("\"\"")
			} else if len(form) < 2 || form[0] != '"' || form[len(form)-1] != '"' {
				data.Append("\"")
				data.Append(form)
				data.Append("\"")
			} else {
				data.Append(form)
			}
			data.Append(",")
			data.Append("\"appname\":")
			if form := ctx.GetForm("appname"); len(form) == 0 {
				data.Append("\"\"")
			} else if len(form) < 2 || form[0] != '"' || form[len(form)-1] != '"' {
				data.Append("\"")
				data.Append(form)
				data.Append("\"")
			} else {
				data.Append(form)
			}
			data.Append(",")
			data.Append("\"index\":")
			if form := ctx.GetForm("index"); len(form) == 0 {
				data.Append("0")
			} else {
				data.Append(form)
			}
			data.Append("}")
			if data.Len() > 2 {
				e := protojson.UnmarshalOptions{DiscardUnknown: true}.Unmarshal(data.Bytes(), req)
				if e != nil {
					ctx.AbortString(http.StatusBadRequest, error1.ErrReq.String())
					return
				}
			}
		}
		if s := _SconfigWebCheckers["\"\\\"Config/api\\\"\".SrollbackReq"](req); s != "" {
			log.Error("[/config.sconfig/srollback]", s)
			ctx.AbortString(http.StatusBadRequest, error1.ErrReq.String())
			return
		}
		resp, e := handler(ctx, req)
		if e != nil {
			if error1.Equal(e, error1.ErrReq) {
				ctx.AbortString(http.StatusBadRequest, e.Error())
			} else {
				ctx.AbortString(http.StatusInternalServerError, e.Error())
			}
			return
		}
		if resp == nil {
			resp = new(SrollbackResp)
		}
		if strings.HasPrefix(ctx.GetAcceptType(), "application/x-protobuf") {
			respd, _ := proto.Marshal(resp)
			ctx.SetHeader("Content-Type", "application/x-protobuf")
			ctx.Write(http.StatusOK, respd)
		} else {
			respd, _ := protojson.MarshalOptions{UseProtoNames: true, UseEnumNumbers: true, EmitUnpopulated: true}.Marshal(resp)
			ctx.SetHeader("Content-Type", "application/json")
			ctx.Write(http.StatusOK, respd)
		}
	}
}
func _Sconfig_Sget_WebHandler(handler func(context.Context, *SgetReq) (*SgetResp, error)) web.OutsideHandler {
	return func(ctx *web.Context) {
		req := new(SgetReq)
		if strings.HasPrefix(ctx.GetContentType(), "application/json") {
			data, e := ctx.GetBody()
			if e != nil {
				ctx.AbortString(http.StatusBadRequest, e.Error())
				return
			}
			if len(data) > 0 {
				e := protojson.UnmarshalOptions{DiscardUnknown: true}.Unmarshal(data, req)
				if e != nil {
					ctx.AbortString(http.StatusBadRequest, error1.ErrReq.String())
					return
				}
			}
		} else if strings.HasPrefix(ctx.GetContentType(), "application/x-protobuf") {
			data, e := ctx.GetBody()
			if e != nil {
				ctx.AbortString(http.StatusBadRequest, e.Error())
				return
			}
			if len(data) > 0 {
				if e := proto.Unmarshal(data, req); e != nil {
					ctx.AbortString(http.StatusBadRequest, error1.ErrReq.String())
					return
				}
			}
		} else {
			if e := ctx.ParseForm(); e != nil {
				ctx.AbortString(http.StatusBadRequest, error1.ErrReq.String())
				return
			}
			data := bufpool.GetBuffer()
			defer bufpool.PutBuffer(data)
			data.Append("{")
			data.Append("\"groupname\":")
			if form := ctx.GetForm("groupname"); len(form) == 0 {
				data.Append("\"\"")
			} else if len(form) < 2 || form[0] != '"' || form[len(form)-1] != '"' {
				data.Append("\"")
				data.Append(form)
				data.Append("\"")
			} else {
				data.Append(form)
			}
			data.Append(",")
			data.Append("\"appname\":")
			if form := ctx.GetForm("appname"); len(form) == 0 {
				data.Append("\"\"")
			} else if len(form) < 2 || form[0] != '"' || form[len(form)-1] != '"' {
				data.Append("\"")
				data.Append(form)
				data.Append("\"")
			} else {
				data.Append(form)
			}
			data.Append(",")
			data.Append("\"index\":")
			if form := ctx.GetForm("index"); len(form) == 0 {
				data.Append("0")
			} else {
				data.Append(form)
			}
			data.Append("}")
			if data.Len() > 2 {
				e := protojson.UnmarshalOptions{DiscardUnknown: true}.Unmarshal(data.Bytes(), req)
				if e != nil {
					ctx.AbortString(http.StatusBadRequest, error1.ErrReq.String())
					return
				}
			}
		}
		if s := _SconfigWebCheckers["\"\\\"Config/api\\\"\".SgetReq"](req); s != "" {
			log.Error("[/config.sconfig/sget]", s)
			ctx.AbortString(http.StatusBadRequest, error1.ErrReq.String())
			return
		}
		resp, e := handler(ctx, req)
		if e != nil {
			if error1.Equal(e, error1.ErrReq) {
				ctx.AbortString(http.StatusBadRequest, e.Error())
			} else {
				ctx.AbortString(http.StatusInternalServerError, e.Error())
			}
			return
		}
		if resp == nil {
			resp = new(SgetResp)
		}
		if strings.HasPrefix(ctx.GetAcceptType(), "application/x-protobuf") {
			respd, _ := proto.Marshal(resp)
			ctx.SetHeader("Content-Type", "application/x-protobuf")
			ctx.Write(http.StatusOK, respd)
		} else {
			respd, _ := protojson.MarshalOptions{UseProtoNames: true, UseEnumNumbers: true, EmitUnpopulated: true}.Marshal(resp)
			ctx.SetHeader("Content-Type", "application/json")
			ctx.Write(http.StatusOK, respd)
		}
	}
}
func _Sconfig_Sgroups_WebHandler(handler func(context.Context, *SgroupsReq) (*SgroupsResp, error)) web.OutsideHandler {
	return func(ctx *web.Context) {
		req := new(SgroupsReq)
		if strings.HasPrefix(ctx.GetContentType(), "application/json") {
			data, e := ctx.GetBody()
			if e != nil {
				ctx.AbortString(http.StatusBadRequest, e.Error())
				return
			}
			if len(data) > 0 {
				e := protojson.UnmarshalOptions{DiscardUnknown: true}.Unmarshal(data, req)
				if e != nil {
					ctx.AbortString(http.StatusBadRequest, error1.ErrReq.String())
					return
				}
			}
		} else if strings.HasPrefix(ctx.GetContentType(), "application/x-protobuf") {
			data, e := ctx.GetBody()
			if e != nil {
				ctx.AbortString(http.StatusBadRequest, e.Error())
				return
			}
			if len(data) > 0 {
				if e := proto.Unmarshal(data, req); e != nil {
					ctx.AbortString(http.StatusBadRequest, error1.ErrReq.String())
					return
				}
			}
		} else {
			if e := ctx.ParseForm(); e != nil {
				ctx.AbortString(http.StatusBadRequest, error1.ErrReq.String())
				return
			}
			data := bufpool.GetBuffer()
			defer bufpool.PutBuffer(data)
			data.Append("{")
			data.Append("}")
			if data.Len() > 2 {
				e := protojson.UnmarshalOptions{DiscardUnknown: true}.Unmarshal(data.Bytes(), req)
				if e != nil {
					ctx.AbortString(http.StatusBadRequest, error1.ErrReq.String())
					return
				}
			}
		}
		resp, e := handler(ctx, req)
		if e != nil {
			if error1.Equal(e, error1.ErrReq) {
				ctx.AbortString(http.StatusBadRequest, e.Error())
			} else {
				ctx.AbortString(http.StatusInternalServerError, e.Error())
			}
			return
		}
		if resp == nil {
			resp = new(SgroupsResp)
		}
		if strings.HasPrefix(ctx.GetAcceptType(), "application/x-protobuf") {
			respd, _ := proto.Marshal(resp)
			ctx.SetHeader("Content-Type", "application/x-protobuf")
			ctx.Write(http.StatusOK, respd)
		} else {
			respd, _ := protojson.MarshalOptions{UseProtoNames: true, UseEnumNumbers: true, EmitUnpopulated: true}.Marshal(resp)
			ctx.SetHeader("Content-Type", "application/json")
			ctx.Write(http.StatusOK, respd)
		}
	}
}
func _Sconfig_Sapps_WebHandler(handler func(context.Context, *SappsReq) (*SappsResp, error)) web.OutsideHandler {
	return func(ctx *web.Context) {
		req := new(SappsReq)
		if strings.HasPrefix(ctx.GetContentType(), "application/json") {
			data, e := ctx.GetBody()
			if e != nil {
				ctx.AbortString(http.StatusBadRequest, e.Error())
				return
			}
			if len(data) > 0 {
				e := protojson.UnmarshalOptions{DiscardUnknown: true}.Unmarshal(data, req)
				if e != nil {
					ctx.AbortString(http.StatusBadRequest, error1.ErrReq.String())
					return
				}
			}
		} else if strings.HasPrefix(ctx.GetContentType(), "application/x-protobuf") {
			data, e := ctx.GetBody()
			if e != nil {
				ctx.AbortString(http.StatusBadRequest, e.Error())
				return
			}
			if len(data) > 0 {
				if e := proto.Unmarshal(data, req); e != nil {
					ctx.AbortString(http.StatusBadRequest, error1.ErrReq.String())
					return
				}
			}
		} else {
			if e := ctx.ParseForm(); e != nil {
				ctx.AbortString(http.StatusBadRequest, error1.ErrReq.String())
				return
			}
			data := bufpool.GetBuffer()
			defer bufpool.PutBuffer(data)
			data.Append("{")
			data.Append("\"groupname\":")
			if form := ctx.GetForm("groupname"); len(form) == 0 {
				data.Append("\"\"")
			} else if len(form) < 2 || form[0] != '"' || form[len(form)-1] != '"' {
				data.Append("\"")
				data.Append(form)
				data.Append("\"")
			} else {
				data.Append(form)
			}
			data.Append("}")
			if data.Len() > 2 {
				e := protojson.UnmarshalOptions{DiscardUnknown: true}.Unmarshal(data.Bytes(), req)
				if e != nil {
					ctx.AbortString(http.StatusBadRequest, error1.ErrReq.String())
					return
				}
			}
		}
		if s := _SconfigWebCheckers["\"\\\"Config/api\\\"\".SappsReq"](req); s != "" {
			log.Error("[/config.sconfig/sapps]", s)
			ctx.AbortString(http.StatusBadRequest, error1.ErrReq.String())
			return
		}
		resp, e := handler(ctx, req)
		if e != nil {
			if error1.Equal(e, error1.ErrReq) {
				ctx.AbortString(http.StatusBadRequest, e.Error())
			} else {
				ctx.AbortString(http.StatusInternalServerError, e.Error())
			}
			return
		}
		if resp == nil {
			resp = new(SappsResp)
		}
		if strings.HasPrefix(ctx.GetAcceptType(), "application/x-protobuf") {
			respd, _ := proto.Marshal(resp)
			ctx.SetHeader("Content-Type", "application/x-protobuf")
			ctx.Write(http.StatusOK, respd)
		} else {
			respd, _ := protojson.MarshalOptions{UseProtoNames: true, UseEnumNumbers: true, EmitUnpopulated: true}.Marshal(resp)
			ctx.SetHeader("Content-Type", "application/json")
			ctx.Write(http.StatusOK, respd)
		}
	}
}
func _Sconfig_Swatchaddr_WebHandler(handler func(context.Context, *SwatchaddrReq) (*SwatchaddrResp, error)) web.OutsideHandler {
	return func(ctx *web.Context) {
		req := new(SwatchaddrReq)
		if strings.HasPrefix(ctx.GetContentType(), "application/json") {
			data, e := ctx.GetBody()
			if e != nil {
				ctx.AbortString(http.StatusBadRequest, e.Error())
				return
			}
			if len(data) > 0 {
				e := protojson.UnmarshalOptions{DiscardUnknown: true}.Unmarshal(data, req)
				if e != nil {
					ctx.AbortString(http.StatusBadRequest, error1.ErrReq.String())
					return
				}
			}
		} else if strings.HasPrefix(ctx.GetContentType(), "application/x-protobuf") {
			data, e := ctx.GetBody()
			if e != nil {
				ctx.AbortString(http.StatusBadRequest, e.Error())
				return
			}
			if len(data) > 0 {
				if e := proto.Unmarshal(data, req); e != nil {
					ctx.AbortString(http.StatusBadRequest, error1.ErrReq.String())
					return
				}
			}
		} else {
			if e := ctx.ParseForm(); e != nil {
				ctx.AbortString(http.StatusBadRequest, error1.ErrReq.String())
				return
			}
			data := bufpool.GetBuffer()
			defer bufpool.PutBuffer(data)
			data.Append("{")
			data.Append("}")
			if data.Len() > 2 {
				e := protojson.UnmarshalOptions{DiscardUnknown: true}.Unmarshal(data.Bytes(), req)
				if e != nil {
					ctx.AbortString(http.StatusBadRequest, error1.ErrReq.String())
					return
				}
			}
		}
		resp, e := handler(ctx, req)
		if e != nil {
			if error1.Equal(e, error1.ErrReq) {
				ctx.AbortString(http.StatusBadRequest, e.Error())
			} else {
				ctx.AbortString(http.StatusInternalServerError, e.Error())
			}
			return
		}
		if resp == nil {
			resp = new(SwatchaddrResp)
		}
		if strings.HasPrefix(ctx.GetAcceptType(), "application/x-protobuf") {
			respd, _ := proto.Marshal(resp)
			ctx.SetHeader("Content-Type", "application/x-protobuf")
			ctx.Write(http.StatusOK, respd)
		} else {
			respd, _ := protojson.MarshalOptions{UseProtoNames: true, UseEnumNumbers: true, EmitUnpopulated: true}.Marshal(resp)
			ctx.SetHeader("Content-Type", "application/json")
			ctx.Write(http.StatusOK, respd)
		}
	}
}
func RegisterSconfigWebServer(engine *web.WebServer, svc SconfigWebServer, allmids map[string]web.OutsideHandler) error {
	//avoid lint
	_ = allmids
	if e := engine.Get(_WebPathSconfigSinfo, 250000000, _Sconfig_Sinfo_WebHandler(svc.Sinfo)); e != nil {
		return e
	}
	if e := engine.Post(_WebPathSconfigSset, 250000000, _Sconfig_Sset_WebHandler(svc.Sset)); e != nil {
		return e
	}
	if e := engine.Post(_WebPathSconfigSrollback, 250000000, _Sconfig_Srollback_WebHandler(svc.Srollback)); e != nil {
		return e
	}
	if e := engine.Get(_WebPathSconfigSget, 250000000, _Sconfig_Sget_WebHandler(svc.Sget)); e != nil {
		return e
	}
	if e := engine.Get(_WebPathSconfigSgroups, 250000000, _Sconfig_Sgroups_WebHandler(svc.Sgroups)); e != nil {
		return e
	}
	if e := engine.Get(_WebPathSconfigSapps, 250000000, _Sconfig_Sapps_WebHandler(svc.Sapps)); e != nil {
		return e
	}
	if e := engine.Get(_WebPathSconfigSwatchaddr, 250000000, _Sconfig_Swatchaddr_WebHandler(svc.Swatchaddr)); e != nil {
		return e
	}
	return nil
}
